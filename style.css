:root{
  --bg:#0e1a17; --bg2:#0b1512;
  --surf:#13211d; --surf2:#1a2f28;
  --accent:#27e2a4; --accent2:#9ef7d9;
  --text:#eaf7f2; --muted:#93b7a9;
  --warn:#ffcf5a; --danger:#ff7a7a;
  --shadow:0 10px 26px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "SF Pro", Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--text);
  background:
    radial-gradient(1200px 800px at 50% -200px, #123026 0%, rgba(0,0,0,0) 60%),
    linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
}

/* subtle moving grid */
.bg-grid::before{
  content:""; position:fixed; inset:-200px; pointer-events:none; opacity:.12;
  background:
    linear-gradient(transparent 31px, #1b3a31 32px),
    linear-gradient(90deg, transparent 31px, #1b3a31 32px);
  background-size:32px 32px;
  animation: drift 30s linear infinite;
}
@keyframes drift{
  from{transform:translateY(0)}
  to{transform:translateY(32px)}
}

/* Header */
.app-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 18px;border-bottom:1px solid #0f221d;background:rgba(12,24,21,.65);
  backdrop-filter: blur(8px); position: sticky; top:0; z-index:50;
}
.brand{display:flex;align-items:center;gap:8px}
.logo{display:inline-grid;place-items:center;width:28px;height:28px;border-radius:8px;background:#1b322b;color:#ffd95f;box-shadow:var(--shadow);font-weight:700}
.title{font-weight:700;letter-spacing:.3px}
.balance{font-weight:700;background:#153026;padding:6px 10px;border-radius:10px;box-shadow:var(--shadow)}

/* Tabs */
.tabs{display:flex;gap:8px;padding:10px 12px;border-bottom:1px solid #0f221d; background:#0d1b17; position:sticky; top:56px; z-index:40}
.tab-btn{
  appearance:none;border:none;cursor:pointer;color:var(--text);
  background:#152823;padding:10px 14px;border-radius:12px;box-shadow:var(--shadow);
  transition:.2s transform, .2s background, .2s box-shadow;
}
.tab-btn:hover{transform:translateY(-1px);background:#1a312a;box-shadow:0 14px 30px rgba(0,0,0,.35)}

/* Views */
.views{padding:18px;max-width:980px;margin:0 auto}
.view{display:none;animation:fade .25s ease}
.view.active{display:block}
@keyframes fade{from{opacity:.5;transform:translateY(4px)}to{opacity:1;transform:none}}

/* Home */
.hero{position:relative;min-height:320px;display:grid;place-items:center;margin:10px 0 22px}
.hero-coins{position:absolute;inset:0;pointer-events:none;background:
  radial-gradient(3px 3px at 20% -10%, #ffd95f, rgba(0,0,0,0) 70%),
  radial-gradient(4px 4px at 40% -6%, #ffe483, rgba(0,0,0,0) 70%),
  radial-gradient(2px 2px at 65% -8%, #fff0a8, rgba(0,0,0,0) 70%),
  radial-gradient(3px 3px at 80% -12%, #ffd95f, rgba(0,0,0,0) 70%);
  animation:coins 9s linear infinite;
  opacity:.40;
}
@keyframes coins{
  0%{background-position: 20% -10%, 40% -6%, 65% -8%, 80% -12%}
  100%{background-position: 20% 130%, 40% 126%, 65% 128%, 80% 132%}
}
.hero-card{
  width:min(720px,100%); padding:22px;border-radius:18px;background:linear-gradient(180deg,#183129, #11221c);
  box-shadow:var(--shadow); text-align:center
}
.floating{animation:floating 6s ease-in-out infinite}
@keyframes floating{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
.cta-row{margin-top:14px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
.primary{
  background:linear-gradient(180deg,#24d79c,#20b784);
  color:#0a1713;border:none;padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:700;box-shadow:0 6px 18px rgba(36,215,156,.25);
}
button{background:#193129;color:var(--text);border:none;padding:10px 14px;border-radius:12px;cursor:pointer}
button.ghost{background:#162822}
button.disabled{opacity:.5;cursor:not-allowed}
button:disabled{opacity:.5;cursor:not-allowed}
button.wide{width:100%}

.home-panels{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.panel{background:#12221c;border-radius:14px;padding:14px;box-shadow:var(--shadow)}
.muted{color:var(--muted)}
.small{font-size:.9rem}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Cascadia Code", Consolas, "Liberation Mono", monospace}

/* Inventory */
.section-head{margin:8px 0 12px}
.grid{display:grid;grid-template-columns: repeat(auto-fill, minmax(160px,1fr));gap:12px}
.card{background:#13231e;border-radius:14px;padding:12px;display:flex;flex-direction:column;gap:10px;box-shadow:var(--shadow)}
.card-head{display:flex;gap:10px;align-items:center}
.emoji{font-size:34px;line-height:1;display:grid;place-items:center;width:56px;height:56px;border-radius:12px;background:#19332b}
.item-name{font-weight:700}
.badge{font-size:.8rem;color:#0b1411;background:#1a3129;border-radius:8px;padding:4px 8px;display:inline-block}
.price{color:#ffd95f;font-weight:700}
.card .row{display:flex;justify-content:space-between;align-items:center;gap:10px}
.empty{opacity:.7;text-align:center;margin:18px auto}

/* Referral */
.ref-card{background:#11221c;border-radius:14px;padding:14px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:12px}
.ref-row{display:flex;justify-content:space-between;gap:10px;align-items:center}
.ref-stats{display:flex;gap:18px}
.ref-stats b{display:block;margin-top:6px}

/* Roulette */
.boxes{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:12px}
.box-card{background:#14261f;border-radius:14px;padding:12px;display:flex;flex-direction:column;align-items:center;gap:8px;box-shadow:var(--shadow);position:relative;overflow:hidden}
.shine::after{
  content:"";position:absolute;inset:-120px;transform:skewX(-35deg);background:linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
  animation:shine 4.2s ease-in-out infinite;
}
@keyframes shine{0%{left:-120%}50%{left:60%}100%{left:120%}}
.box-emoji{font-size:34px}
.box-title{font-weight:700}
.box-price{color:#ffd95f;font-weight:700}

.wheel-wrap{position:relative;margin-top:6px}
.wheel{
  overflow:hidden;border-radius:16px;border:1px solid #1b3128;background:#12221c;box-shadow:var(--shadow);
  height:120px;position:relative
}
.track{display:flex;gap:12px;align-items:center;height:100%;padding:0 18px;will-change:transform}
.wheel-pointer{
  position:absolute;left:50%;top:0;transform:translateX(-50%);pointer-events:none;
  font-weight:900;color:#ffd95f;filter:drop-shadow(0 2px 0 #0a1411);
}

.item{
  min-width:108px;max-width:108px;height:92px;border-radius:12px;background:#193129;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:6px;box-shadow:inset 0 0 0 1px #204538;
}
.item .i-emoji{font-size:30px}
.item .i-name{font-size:.88rem;text-align:center;opacity:.9}
.item .i-rare{font-size:.75rem;opacity:.75}

.result{margin-top:12px;background:#11221c;border-radius:14px;padding:12px;display:flex;align-items:center;justify-content:space-between;gap:12px;box-shadow:var(--shadow)}
.result.hidden{display:none}
.prize{display:flex;align-items:center;gap:10px}
.prize-emoji{font-size:36px;width:56px;height:56px;border-radius:12px;background:#193129;display:grid;place-items:center}
.prize-name{font-weight:700}
.prize-rare{font-size:.9rem;opacity:.8}
.actions{display:flex;gap:8px}

/* Toast */
.toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:#13241e;border:1px solid #1a332a;border-radius:12px;padding:10px 14px;box-shadow:var(--shadow);z-index:60}
.toast.hidden{display:none}

/* Crash */
.glass{background:rgba(17,34,28,.7); border:1px solid #1a332a; box-shadow: var(--shadow); border-radius:14px}
.crash-topline{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;margin-bottom:10px;gap:12px}
.status-badge{font-weight:800;letter-spacing:.4px}
.ticker{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;opacity:.9}

.crash-top{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:10px}
.stake,.asset{background:#12221c;border-radius:14px;padding:12px;box-shadow:var(--shadow)}
.stake-row{display:flex;gap:10px;align-items:center;margin-bottom:8px}
#crash-bet{width:100%;padding:10px;border-radius:10px;border:1px solid #284a3f;background:#102019;color:var(--text)}
.stake-buttons{display:flex;gap:8px}
.auto-row{display:grid;grid-template-columns:auto 1fr;gap:10px;align-items:center;margin-top:8px}
.auto-row input{width:100%;padding:10px;border-radius:10px;border:1px solid #284a3f;background:#102019;color:var(--text)}
.asset-select{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
.asset-btn{background:#183128}
.asset-btn.active{background:#1f3c33;outline:2px solid #2bd3a4}
.asset-btn.disabled{opacity:.5;cursor:not-allowed}

.players .players-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:6px;margin-top:8px}
.avatar{width:32px;height:32px;border-radius:50%;display:grid;place-items:center;background:#183128;box-shadow:inset 0 0 0 1px #27493e;font-size:18px}

.crash-stage{position:relative;background:#0f1c18;border:1px solid #18342c;border-radius:16px;height:300px;box-shadow:var(--shadow);overflow:hidden}
.starfield{position:absolute;inset:0;background:
  radial-gradient(1px 1px at 20% 10%, rgba(255,255,255,.35), transparent 60%),
  radial-gradient(1px 1px at 70% 40%, rgba(255,255,255,.25), transparent 60%),
  radial-gradient(1px 1px at 40% 80%, rgba(255,255,255,.25), transparent 60%);
  animation: starflow 8s linear infinite; opacity:.25;
}
@keyframes starflow{from{transform:translateY(0)}to{transform:translateY(-18px)}}
#crash-canvas{position:absolute;inset:0}
.mult-wrap{position:absolute;left:14px;top:10px;background:#11241d;border-radius:10px;padding:8px 10px;box-shadow:var(--shadow)}
#crash-mult{font-weight:900;font-size:22px;color:#ffd95f;text-shadow:0 2px 0 #0b1411}
.rocket{position:absolute;left:40px;bottom:18px;font-size:28px;filter:drop-shadow(0 0 6px rgba(255,255,255,.25)); transform-origin:center}
.rocket .flame{position:absolute;left:5px;top:22px;width:14px;height:14px;border-radius:50%;background:radial-gradient(circle at 40% 40%, #ffd180, #ff8a65 55%, rgba(255,0,0,.0) 70%); animation:flame .12s linear infinite}
.rocket .trail{position:absolute;left:-140px;top:24px;width:140px;height:2px;background:linear-gradient(90deg, rgba(255,255,255,.0), rgba(255,255,255,.35));filter:blur(1px)}
@keyframes flame{0%{transform:scale(1)}50%{transform:scale(1.25)}100%{transform:scale(1)}}

.crash-controls{display:flex;gap:10px;margin-top:10px}
.two-col{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
.feed{padding:12px}
.feed-title{opacity:.9;margin-bottom:8px}
.feed-list{max-height:180px;overflow:auto;font-size:.95rem}
.feed-item{display:flex;justify-content:space-between;padding:6px 8px;border-radius:10px;background:#0f1e19;margin-bottom:6px}
.feed-item .pos{color:#9cffd3}
.feed-item .neg{color:#ff9c9c}

.confetti{position:fixed;inset:0;pointer-events:none}
.confetti::before{
  content:""; position:absolute; inset:0; background:
  radial-gradient(4px 4px at 10% 20%, #ffd95f, transparent 70%),
  radial-gradient(4px 4px at 30% 40%, #ff9c9c, transparent 70%),
  radial-gradient(4px 4px at 50% 10%, #9ef7d9, transparent 70%),
  radial-gradient(4px 4px at 80% 30%, #ffd95f, transparent 70%),
  radial-gradient(4px 4px at 60% 70%, #9ef7d9, transparent 70%);
  animation: confetti 900ms ease-out forwards;
}
@keyframes confetti{
  0%{opacity:.9; transform:translateY(-10px)}
  100%{opacity:0; transform:translateY(50px)}
}

/* Footer */
.app-footer{opacity:.6;text-align:center;padding:16px}

/* Responsive */
@media (max-width:780px){
  .home-panels{grid-template-columns:1fr}
  .boxes{grid-template-columns:1fr}
  .players .players-grid{grid-template-columns:repeat(6,1fr)}
  .two-col{grid-template-columns:1fr}
}
